つぶなび モック要件定義（Phase 1）
==============================

1. モックの目的とゴール
- 目的: outline.mdに沿って、ユーザーが「キャリアロードマップを持ち、日々のつぶやきで更新される」体験を検証する。
- ゴール: 主要3機能の仮説をデモ可能な状態にする。動的ロードマップ表示 / つぶやき→経験値変換 / 共通項マッチングの3点を一連のフローで触れる。
- 成功指標（モック内での定性確認）: 「自分の現在地とゴールがわかる」「今日の行動がロードマップ進捗に反映された感覚がある」「似た志向の人にたどり着ける」の3つがデモで伝わること。

2. スコープと前提
- 対象ユーザー: SIer/SESのエンジニアと非開発職（営業/採用）。客先常駐を想定。
- 対応チャネル: Web（PC/モバイル）。ログイン後のアプリ画面を想定。認証はモックでは固定ユーザーで代替。
- データ: 性格診断結果、Will（目標職種）、標準スキルツリー（職種別）、サンプルつぶやき数件、マッチング候補ユーザー数名をフィクスチャとして持つ。
- モック範囲外: 実際のAI推論・Slack/メール連携・通知・権限管理・本番DB。全てフロント内ロジックまたはスタブAPIで代替。

3. 主要ユーザーストーリー
- US1: ユーザーは「3年後にPMになりたい」を設定し、ロードマップで必要スキルと現在地を確認できる。
- US2: ユーザーが当日のつぶやきを投稿すると、自動でスキルタグ抽出と経験値加算がロードマップに反映される。
- US3: 類似志向の社員候補が提示され、検出された共通項と一言メッセージ案が表示される。
- US4（任意）: 1日の振り返りで「今日の経験値獲得レポート」が見える。

4. 画面構成（モックで用意するUI）
- Dashboard（My Career Roadmap）
  - ゴール設定表示（Will/期間）、現在地スナップショット。
  - スキルツリー可視化（ITSS/コンピテンシーベースの簡易ツリー）。色塗りで習熟度、今日の加算分をハイライト。
  - 今日の進捗カード（獲得経験値、更新されたスキルタグ）。
- Tweet & Log
  - つぶやき入力ボックス（140〜200文字想定）、公開範囲トグル（公開/社内限定）。
  - 投稿後の解析結果カード（抽出スキルタグ、スタンスタグ、加算ポイント）。
  - 最近のつぶやきリスト（サンプル3〜5件）。
- Match & Consult（Cross-Job Quest）
  - 共通項検出結果（例: 「顧客折衝」「課題分解」「フロント志向」などタグを並べる）。
  - 候補ユーザー一覧カード（名前、職種、共通項、メッセージ案ボタン）。
  - メッセージ案モーダル（AI提案文を表示するだけで送信はしない）。
- Daily Sync（任意表示のサマリーセクション）
  - 今日の経験値獲得レポート（例: 「実装スキル +2%」「問題解決 +1%」）。
  - 自動生成された日報ドラフト（箇条書きテキスト表示のみ）。

5. 主要機能要件（モック版）
- Dynamic Career Roadmap
  - 入力: 固定の「性格診断結果」「Will: PM（3年）」を保持。選択UIは不要、カードで表示。
  - ロードマップ表示: 職種ごとの標準スキルツリーをJSONで保持。ノードに「現在値」「今日の加算値」「推奨アクション」を表示。
  - 別ルート提案: つぶやき解析結果から「スペシャリスト」「プリセールス」などの代替ルートをサジェスト枠で表示（固定データ）。
- Daily Growth Tweet
  - 入力: テキスト + 公開範囲トグル。
  - 解析: ローカルの簡易ルールでスキルタグ/スタンスタグを抽出（例: "バグ"→問題解決、"顧客"→顧客折衝）。実装はスタブで可視化のみ。
  - 結果反映: 抽出タグを元にロードマップの該当スキルの数値を一時的に+1〜+5%として画面に反映。
  - 日報ドラフト: つぶやき本文と抽出タグをもとに定型文を表示。
- Cross-Job Quest
  - 入力: つぶやき・性格診断・Willから共通項を計算した体で固定データを提示。
  - 出力: 共通項タグ、候補社員カード、メッセージ案。送信アクションはなし（ボタン押下でモーダル表示のみ）。

6. データモデル（モック用サンプル）
- User: {id, name, role, persona_tags}
- Will: {goal_role, timeline, traits}
- SkillNode: {id, name, category, level(0-100), delta_today, recommended_action}
- Tweet: {id, text, visibility, extracted_skills[], extracted_stance[], gained_points}
- MatchCandidate: {id, name, role, common_tags[], message_suggestion}
- DailyReport: {date, summary_points[], drafted_text}

7. インタラクション・ロジック
- つぶやき投稿 → 即時解析結果カードを表示 → ロードマップの該当ノードにdelta_todayを適用（画面内状態のみ）。
- ロードマップは「現在値（ベース）」と「今日の加算値」を別レイヤーで表示し、リセットボタンで加算をクリアできる。
- マッチング候補は「共通項を計算した」として静的データをランダム表示するだけで可。
- 非同期通信は不要。フロント内状態管理のみで遷移する。

8. 非機能・制約（モック）
- オフライン可（ネットワーク依存なし）。
- AI推論はスタブ。計算や可視化はローカルの簡易ロジックとハードコードデータで代替。
- セキュリティ・認証は考慮外（固定ユーザー表示）。
- レスポンシブ対応（PC/モバイル両方で主要カードが崩れない程度）。

9. テスト観点（モックで確認すること）
- ストーリー整合: US1〜US3が1分以内でデモできること。
- 可視性: つぶやき投稿後に「何が増えたか」「どこが色づいたか」が画面上で明確。
- 一貫性: 抽出タグとロードマップのスキルノード名が対応する。
- 状態リセット: デモ後に初期状態へ戻せる（リセットボタンや再読み込み）。

10. 今後の実装に向けたメモ
- 外部データ連携（Slack/メール）のイベントスキーマ設計。
- スキルタグ抽出の精度向上のためのLLMプロンプト/評価軸。
- マッチング候補の評価指標（共通項スコア）の定義。

11. ローカル実装スタック（最終版: Node + Vanilla）
- 基本方針: 外部SaaS/LLM APIを使わず、ローカルの静的HTML/CSS/JSで完結。VSCode拡張（Copilot/Codex/Kiro）でコード生成のみ利用。
- 環境: Node 20系。`npm install --save-dev lite-server`（または`http-server`）を使い、`npm run dev`で静的配信する前提（`file://`はCORSで不可）。
- フレームワーク: なし（Vanilla）。ESモジュール非使用でも動く1ファイルJS構成。CDNや外部ライブラリは使わない。
- ファイル構成: `index.html`（ルート）、`style.css`（最小のCSS変数＋ユーティリティ）、`app.js`（状態/描画ロジック）、`fixtures/skills.json`・`fixtures/tweets.json`・`fixtures/matches.json`（サンプルデータ）。
- ロジック: ルールベースのみ（つぶやき→タグ抽出→delta適用）。計算やフィルタは`app.js`内のプレーンJSで実装。LLM呼び出しなし。
- スタイル: `style.css`に色・余白・タイポだけ最小定義。生成AIプロンプトには「外部CDNなし」「プレーンCSSで」と明記。
- テスト/確認: テストコードは書かず、US1〜US3のシナリオ手動確認。必要なら録画でデモ再現性を担保。
