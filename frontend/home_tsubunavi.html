<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <title>ãƒ›ãƒ¼ãƒ  - ã¤ã¶ãƒŠãƒ“</title>
    <link href="https://fonts.googleapis.com/css2?family=Zen+Maru+Gothic:wght@400;700&display=swap" rel="stylesheet">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Zen Maru Gothic', sans-serif; background: linear-gradient(135deg, #FFF8E1 0%, #FFE0B2 100%); min-height: 100vh; padding: 20px; }
        .container { max-width: 1600px; margin: 0 auto; }
        header { background: #FFF; padding: 25px 40px; border-radius: 30px; box-shadow: 0 8px 24px rgba(255, 152, 0, 0.15); margin-bottom: 30px; display: flex; justify-content: space-between; align-items: center; }
        .logo { font-size: 32px; font-weight: bold; color: #FF9800; }
        nav { display: flex; gap: 15px; }
        .nav-btn { padding: 12px 24px; border-radius: 30px; text-decoration: none; color: #666; background: #FFF; transition: all 0.3s; }
        .nav-btn.active { background: linear-gradient(135deg, #FFB74D 0%, #FF9800 100%); color: white; box-shadow: 0 4px 12px rgba(255, 152, 0, 0.3); }
        .card { background: #FFF; border-radius: 30px; padding: 30px; box-shadow: 0 8px 24px rgba(255, 152, 0, 0.1); margin-bottom: 30px; }
        .card-title { font-size: 24px; font-weight: bold; margin-bottom: 20px; color: #FF9800; }
        .ai-companion { background: linear-gradient(135deg, #FFF3E0 0%, #FFE0B2 100%); border: 3px solid #FFB74D; border-radius: 25px; padding: 25px; margin-bottom: 20px; }
        .ai-avatar { width: 70px; height: 70px; border-radius: 50%; background: linear-gradient(135deg, #FFB74D 0%, #FF9800 100%); display: flex; align-items: center; justify-content: center; font-size: 40px; float: left; margin-right: 20px; box-shadow: 0 6px 18px rgba(255, 152, 0, 0.3); }
        .ai-message { font-size: 16px; line-height: 1.8; color: #5D4037; }
        .tweet-box { background: #FFFBF5; border-radius: 20px; padding: 20px; border: 2px solid #FFE0B2; }
        .tweet-input { width: 100%; border: none; font-size: 16px; resize: none; outline: none; min-height: 100px; font-family: 'Zen Maru Gothic', sans-serif; background: transparent; color: #5D4037; }
        .tweet-button { background: linear-gradient(135deg, #FFB74D 0%, #FF9800 100%); color: white; border: none; padding: 12px 30px; border-radius: 30px; cursor: pointer; font-weight: bold; font-size: 16px; float: right; margin-top: 15px; box-shadow: 0 4px 12px rgba(255, 152, 0, 0.3); font-family: 'Zen Maru Gothic', sans-serif; }
        .tweet-button:hover { transform: translateY(-2px); box-shadow: 0 6px 16px rgba(255, 152, 0, 0.4); }
        .main-content { display: grid; grid-template-columns: 1fr 2fr; gap: 30px; }
        .skill-radar { width: 100%; height: 280px; display: flex; align-items: center; justify-content: center; margin-bottom: 20px; }
        .kanban-board { display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px; }
        .kanban-column { background: #FFFBF5; border-radius: 25px; padding: 20px; min-height: 400px; border: 2px solid #FFE0B2; }
        .column-header { font-weight: bold; font-size: 18px; margin-bottom: 20px; padding-bottom: 15px; border-bottom: 2px solid #FFE0B2; color: #FF9800; }
        .task-card { background: white; padding: 18px; border-radius: 20px; margin-bottom: 15px; box-shadow: 0 4px 12px rgba(255, 152, 0, 0.1); cursor: move; border: 2px solid #FFF3E0; }
        .task-card:hover { transform: translateY(-3px); box-shadow: 0 6px 18px rgba(255, 152, 0, 0.2); }
        .task-title { font-size: 15px; margin-bottom: 12px; font-weight: 500; color: #5D4037; }
        .skill-tags { display: flex; gap: 8px; flex-wrap: wrap; }
        .skill-tag { background: linear-gradient(135deg, #FFF3E0 0%, #FFE0B2 100%); color: #F57C00; padding: 5px 12px; border-radius: 15px; font-size: 12px; font-weight: 500; border: 1px solid #FFB74D; }
        .skill-display { text-align: center; color: #5D4037; font-size: 16px; font-weight: bold; margin-top: 20px; }
        #skillLevel { color: #FF9800; font-size: 28px; transition: all 0.5s; }
        .skill-level-up { animation: levelUp 0.8s ease-out; }
        @keyframes levelUp { 0% { transform: scale(1); } 50% { transform: scale(1.5); color: #FF6F00; } 100% { transform: scale(1); } }
        .balloon { position: fixed; font-size: 40px; animation: flyUp 3s ease-out forwards; pointer-events: none; z-index: 9999; }
        @keyframes flyUp { 0% { transform: translateY(0) rotate(0deg); opacity: 1; } 100% { transform: translateY(-100vh) rotate(20deg); opacity: 0; } }
        .radar-pulse { animation: radarPulse 0.6s ease-out; }
        @keyframes radarPulse { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.15); } }
        .tweet-history { margin-top: 30px; }
        .tweet-item { background: #FFFBF5; border-radius: 20px; padding: 15px; margin-bottom: 10px; border: 2px solid #FFE0B2; }
        .tweet-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 8px; }
        .tweet-time { font-size: 12px; color: #999; }
        .tweet-text { color: #5D4037; line-height: 1.6; margin-bottom: 8px; }
        .tweet-tags { display: flex; gap: 6px; flex-wrap: wrap; }
        .tag { padding: 4px 10px; border-radius: 12px; font-size: 11px; font-weight: 500; }
        .tag-task { background: #E3F2FD; color: #1976D2; border: 1px solid #90CAF9; }
        .tag-positive { background: #E8F5E9; color: #388E3C; border: 1px solid #81C784; }
        .tag-negative { background: #FFEBEE; color: #D32F2F; border: 1px solid #EF9A9A; }
        .cheer-message { background: linear-gradient(135deg, #E8F5E9 0%, #C8E6C9 100%); border: 3px solid #81C784; border-radius: 25px; padding: 20px; margin-bottom: 20px; animation: cheerPulse 2s ease-in-out infinite; }
        @keyframes cheerPulse { 0%, 100% { box-shadow: 0 4px 12px rgba(76, 175, 80, 0.3); } 50% { box-shadow: 0 8px 24px rgba(76, 175, 80, 0.5); } }
        .cheer-icon { font-size: 40px; margin-bottom: 10px; animation: cheerBounce 1s ease-in-out infinite; }
        @keyframes cheerBounce { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-10px); } }
        .cheer-text { color: #2E7D32; font-size: 18px; font-weight: bold; line-height: 1.6; }
        .cheer-from { color: #66BB6A; font-size: 14px; margin-top: 10px; }
        .view-request { background: linear-gradient(135deg, #E3F2FD 0%, #BBDEFB 100%); border: 3px solid #64B5F6; border-radius: 25px; padding: 20px; margin-bottom: 20px; }
        .request-header { color: #1565C0; font-size: 16px; font-weight: bold; margin-bottom: 10px; }
        .request-content { color: #1976D2; margin-bottom: 15px; line-height: 1.6; }
        .request-buttons { display: flex; gap: 10px; }
        .approve-btn { background: linear-gradient(135deg, #66BB6A 0%, #4CAF50 100%); color: white; border: none; padding: 10px 20px; border-radius: 15px; cursor: pointer; font-weight: bold; }
        .reject-btn { background: linear-gradient(135deg, #EF5350 0%, #F44336 100%); color: white; border: none; padding: 10px 20px; border-radius: 15px; cursor: pointer; font-weight: bold; }
        .public-footprints { background: #FFFBF5; border-radius: 20px; padding: 20px; margin-top: 20px; border: 2px solid #FFE0B2; }
        .footprint-item { background: white; padding: 15px; border-radius: 15px; margin-bottom: 10px; box-shadow: 0 2px 8px rgba(255, 152, 0, 0.1); }
        .footprint-header { display: flex; justify-content: between; align-items: center; margin-bottom: 8px; }
        .footprint-date { color: #999; font-size: 12px; }
        .footprint-text { color: #5D4037; margin-bottom: 8px; }
        .footprint-skill { color: #FF9800; font-size: 12px; font-weight: bold; }
        .struggle-suggestion { position: fixed; bottom: 30px; right: 30px; background: linear-gradient(135deg, #E3F2FD 0%, #BBDEFB 100%); border: 3px solid #64B5F6; border-radius: 25px; padding: 25px; max-width: 400px; box-shadow: 0 8px 24px rgba(33, 150, 243, 0.3); z-index: 1000; animation: slideIn 0.5s ease-out; }
        @keyframes slideIn { from { transform: translateX(500px); opacity: 0; } to { transform: translateX(0); opacity: 1; } }
        .struggle-suggestion .ai-message { color: #1565C0; font-size: 15px; margin-bottom: 15px; }
        .matched-user { background: white; padding: 15px; border-radius: 15px; margin: 10px 0; border: 2px solid #90CAF9; }
        .matched-user span { display: block; color: #1976D2; font-weight: bold; margin-bottom: 8px; }
        .matched-user small { display: block; color: #666; font-size: 13px; margin-bottom: 10px; }
        .matched-user button { background: linear-gradient(135deg, #64B5F6 0%, #42A5F5 100%); color: white; border: none; padding: 10px 20px; border-radius: 20px; cursor: pointer; font-weight: bold; width: 100%; }
        .matched-user button:hover { transform: translateY(-2px); box-shadow: 0 4px 12px rgba(33, 150, 243, 0.4); }
        .close-suggestion { position: absolute; top: 10px; right: 15px; background: none; border: none; font-size: 24px; cursor: pointer; color: #1976D2; }
        #journeyModal { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.7); z-index: 2000; }
        .journey-content { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); background: white; border-radius: 30px; padding: 40px; max-width: 700px; max-height: 80vh; overflow-y: auto; box-shadow: 0 20px 60px rgba(0,0,0,0.3); }
        .journey-step { background: #FFFBF5; border-radius: 20px; padding: 20px; margin-bottom: 20px; border-left: 5px solid #FFB74D; }
        .journey-step.è‹¦æ‚©æœŸ { border-left-color: #EF5350; }
        .journey-step.æ¨¡ç´¢æœŸ { border-left-color: #FFA726; }
        .journey-step.æˆé•·æœŸ { border-left-color: #66BB6A; }
        .journey-step.å…‹æœæœŸ { border-left-color: #42A5F5; }
        .phase-badge { display: inline-block; background: #FFB74D; color: white; padding: 5px 15px; border-radius: 15px; font-size: 12px; font-weight: bold; margin-bottom: 10px; }
        .journey-step .timestamp { color: #999; font-size: 13px; margin-bottom: 5px; }
        .journey-step .content { color: #5D4037; line-height: 1.6; margin-bottom: 10px; }
        .journey-step .action { color: #1976D2; margin: 8px 0; }
        .journey-step .insight { color: #388E3C; margin: 8px 0; }
        @media (max-width: 1200px) { .main-content { grid-template-columns: 1fr; } }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div class="logo">ğŸ’¬ ã¤ã¶ãƒŠãƒ“</div>
            <nav>
                <a href="home_tsubunavi.html" class="nav-btn active">ğŸ  ãƒ›ãƒ¼ãƒ </a>
                <a href="forest_tsubunavi.html" class="nav-btn">ğŸŒ² ã‚ã—ã‚ã¨ã¨é‡Œ</a>
                <a href="bonfire_premium.html" class="nav-btn">ğŸ”¥ å¤œã®ç„šç«åºƒå ´</a>
                <a href="ai-test.html" class="nav-btn">ğŸ¤– AIæ©Ÿèƒ½ãƒ†ã‚¹ãƒˆ</a>
            </nav>
            <div id="userName" style="font-weight: bold; color: #5D4037;">user_12345</div>
        </header>
        
        <div class="card">
            <div class="card-title">ğŸŒŸ ä»Šæ—¥ã®ãƒŠãƒ“ã‚²ãƒ¼ã‚¿ãƒ¼</div>
            <div id="cheerMessages"></div>
            <div id="viewRequests"></div>
            <div class="ai-companion">
                <div class="ai-avatar">ğŸ»</div>
                <div class="ai-message" id="aiMessage">
                    <strong>ãŠã¯ã‚ˆã†ã”ã–ã„ã¾ã™ã€å¥å¤ªã•ã‚“ï¼</strong><br>
                    æ˜¨æ—¥ã¯ã€ŒAPIè¨­è¨ˆæ›¸ã‚’ä½œæˆã€ã‚’å®Œäº†ã•ã‚Œã¾ã—ãŸã­ã€‚ã‚·ã‚¹ãƒ†ãƒ è¨­è¨ˆã‚¹ã‚­ãƒ«ãŒ+5ptä¸ŠãŒã‚Šã¾ã—ãŸï¼ğŸ‰<br>
                    ä»Šæ—¥ã‚‚ä¸€ç·’ã«é ‘å¼µã‚Šã¾ã—ã‚‡ã†ã€‚ä½•ã‹ã¤ã¶ã‚„ããŸã„ã“ã¨ã¯ã‚ã‚Šã¾ã™ã‹ï¼Ÿ
                </div>
            </div>
            <div class="tweet-box">
                <textarea class="tweet-input" id="tweetInput" placeholder="ä»Šæ—¥ã®æ°—æŒã¡ã‚„è€ƒãˆã‚’ã¤ã¶ã‚„ã„ã¦ãã ã•ã„..."></textarea>
                <button class="tweet-button" onclick="postTweet()">ã¤ã¶ã‚„ã</button>
            </div>
        </div>
        
        <div class="main-content">
            <div>
                <div class="card">
                    <div class="card-title">ğŸ“Š ã‚¹ã‚­ãƒ«çŠ¶æ…‹</div>
                    <div class="skill-radar">
                        <svg width="240" height="240" viewBox="0 0 240 240">
                            <defs>
                                <linearGradient id="radarGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                                    <stop offset="0%" style="stop-color:#FFB74D;stop-opacity:0.6" />
                                    <stop offset="100%" style="stop-color:#FF9800;stop-opacity:0.6" />
                                </linearGradient>
                            </defs>
                            <polygon points="120,30 180,75 180,165 120,210 60,165 60,75" fill="none" stroke="#FFE0B2" stroke-width="3"/>
                            <polygon points="120,60 150,90 150,150 120,180 90,150 90,90" fill="none" stroke="#FFCC80" stroke-width="3"/>
                            <polygon id="skillPolygon" points="120,60 165,100 155,155 110,175 70,145 85,95" fill="url(#radarGradient)" stroke="#FF9800" stroke-width="3"/>
                            <text x="120" y="25" text-anchor="middle" font-size="12" fill="#5D4037" font-weight="bold">ã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³</text>
                            <text x="195" y="95" text-anchor="start" font-size="12" fill="#5D4037" font-weight="bold">èª²é¡Œè§£æ±º</text>
                            <text x="195" y="160" text-anchor="start" font-size="12" fill="#5D4037" font-weight="bold">ã‚·ã‚¹ãƒ†ãƒ è¨­è¨ˆ</text>
                            <text x="120" y="225" text-anchor="middle" font-size="12" fill="#5D4037" font-weight="bold">ãƒªãƒ¼ãƒ€ãƒ¼ã‚·ãƒƒãƒ—</text>
                            <text x="35" y="160" text-anchor="end" font-size="12" fill="#5D4037" font-weight="bold">ææ¡ˆåŠ›</text>
                            <text x="35" y="95" text-anchor="end" font-size="12" fill="#5D4037" font-weight="bold">åˆ¤æ–­åŠ›</text>
                        </svg>
                    </div>
                    <div class="skill-display">ç·åˆãƒ¬ãƒ™ãƒ«: <span id="skillLevel">Lv.25</span></div>
                </div>
            </div>
            
            <div>
                <div class="card">
                    <div class="card-title">ğŸ“‹ ã‚¿ã‚¹ã‚¯ãƒœãƒ¼ãƒ‰</div>
                    <div class="kanban-board">
                        <div class="kanban-column" ondrop="drop(event)" ondragover="allowDrop(event)" data-column="pending">
                            <div class="column-header">â³ å¾…æ©Ÿä¸­</div>
                            <div class="task-card" draggable="true" ondragstart="drag(event)" id="task1" data-skill="æŠ€è¡“å­¦ç¿’">
                                <div class="task-title">æ–°ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã®èª¿æŸ»</div>
                                <div class="skill-tags"><span class="skill-tag">æŠ€è¡“å­¦ç¿’</span></div>
                            </div>
                            <div class="task-card" draggable="true" ondragstart="drag(event)" id="task2" data-skill="ã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³">
                                <div class="task-title">ãƒãƒ¼ãƒ ä¼šè­°ã®æº–å‚™</div>
                                <div class="skill-tags"><span class="skill-tag">ã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³</span></div>
                            </div>
                        </div>
                        
                        <div class="kanban-column" ondrop="drop(event)" ondragover="allowDrop(event)" data-column="inprogress">
                            <div class="column-header">ğŸ”„ å®Ÿæ–½ä¸­</div>
                            <div class="task-card" draggable="true" ondragstart="drag(event)" id="task3" data-skill="ã‚·ã‚¹ãƒ†ãƒ è¨­è¨ˆ">
                                <div class="task-title">APIè¨­è¨ˆæ›¸ã‚’ä½œæˆ</div>
                                <div class="skill-tags"><span class="skill-tag">ã‚·ã‚¹ãƒ†ãƒ è¨­è¨ˆ</span></div>
                            </div>
                        </div>
                        
                        <div class="kanban-column" ondrop="drop(event)" ondragover="allowDrop(event)" data-column="done">
                            <div class="column-header">âœ… å®Œäº†</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="card">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                <div class="card-title" style="margin-bottom: 0;">ğŸ“ ä»Šæ—¥ã®ã¤ã¶ã‚„ã</div>
                <button class="tweet-button" style="margin: 0; float: none;" onclick="generateReport()">ğŸ“„ æ—¥å ±ç”Ÿæˆ</button>
            </div>
            <div class="tweet-history" id="tweetHistory"></div>
        </div>
        
        <div class="card" id="reportCard" style="display: none;">
            <div class="card-title">ğŸ“„ æ—¥å ±ä¸‹æ›¸ã</div>
            <div id="reportContent" style="white-space: pre-wrap; line-height: 1.8; color: #5D4037; background: #FFFBF5; padding: 20px; border-radius: 20px; border: 2px solid #FFE0B2;"></div>
            <button class="tweet-button" style="margin-top: 15px;" onclick="copyReport()">ğŸ“‹ ã‚³ãƒ”ãƒ¼</button>
        </div>
    </div>
    
    <div id="journeyModal">
        <div class="journey-content">
            <button class="close-suggestion" onclick="closeJourney()" style="position: absolute; top: 20px; right: 25px;">Ã—</button>
            <div class="card-title" style="margin-bottom: 25px;">ğŸŒ± æˆé•·ã®è»Œè·¡</div>
            <div id="journey-thread"></div>
        </div>
    </div>
    
    <script src="config.js"></script>
    <script src="js/footprints.js"></script>
        <script src="js/home.js" defer></script>

</body>
</html>
